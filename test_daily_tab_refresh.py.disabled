#!/usr/bin/env python3
"""Test script to verify Daily tab refresh fix."""

import sys
from PyQt6.QtWidgets import QApplication
from src.ui.main_window import MainWindow
from src.utils.logging_config import get_logger

logger = get_logger(__name__)

def test_daily_tab_refresh():
    """Test that Daily tab refreshes properly when switched to."""
    app = QApplication(sys.argv)
    
    # Create main window
    window = MainWindow()
    window.show()
    
    logger.info("Main window created and shown")
    
    # Instructions for manual testing
    print("\n" + "="*60)
    print("MANUAL TEST INSTRUCTIONS:")
    print("="*60)
    print("1. Load some data using the Configuration tab")
    print("2. Switch to the Daily tab")
    print("3. Verify that the UI displays immediately without needing to hover")
    print("4. Switch to another tab and back to Daily")
    print("5. Verify the UI still displays immediately")
    print("6. Click the refresh button on the Daily tab")
    print("7. Verify the data refreshes properly")
    print("\nThe fix should ensure:")
    print("- Daily tab refreshes when switched to")
    print("- No need to hover over elements to see the UI")
    print("- Both animated and non-animated transitions work")
    print("="*60 + "\n")
    
    sys.exit(app.exec())

if __name__ == "__main__":
    test_daily_tab_refresh()
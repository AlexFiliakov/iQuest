/home/alexf/claude-env/lib/python3.12/site-packages/pytest_asyncio/plugin.py:208: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))
============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.5, pluggy-1.6.0 -- /home/alexf/claude-env/bin/python
cachedir: .pytest_cache
benchmark: 5.1.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
hypothesis profile 'default'
Matplotlib: 3.10.3
Freetype: 2.6.1
PyQt6 6.9.0 -- Qt runtime 6.9.0 -- Qt compiled 6.9.0
metadata: {'Python': '3.12.3', 'Platform': 'Linux-5.15.167.4-microsoft-standard-WSL2-x86_64-with-glibc2.39', 'Packages': {'pytest': '8.3.5', 'pluggy': '1.6.0'}, 'Plugins': {'benchmark': '5.1.0', 'hypothesis': '6.131.28', 'rerunfailures': '15.1', 'anyio': '4.9.0', 'reverse': '1.8.0', 'mock': '3.14.0', 'mpl': '0.17.0', 'qt': '4.4.0', 'xdist': '3.7.0', 'Faker': '37.3.0', 'timeout': '2.4.0', 'cov': '6.1.1', 'asyncio': '1.0.0', 'html': '4.1.1', 'metadata': '3.1.1'}}
rootdir: /mnt/c/Users/alexf/OneDrive/Documents/Projects/Apple Health Exports
configfile: pytest.ini
plugins: benchmark-5.1.0, hypothesis-6.131.28, rerunfailures-15.1, anyio-4.9.0, reverse-1.8.0, mock-3.14.0, mpl-0.17.0, qt-4.4.0, xdist-3.7.0, Faker-37.3.0, timeout-2.4.0, cov-6.1.1, asyncio-1.0.0, html-4.1.1, metadata-3.1.1
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 1219 items

tests/visual/test_visual_regression.py::TestVisualRegression::test_large_dataset_visual_consistency PASSED [  0%]
tests/visual/test_visual_regression.py::TestVisualRegression::test_windows_rendering_consistency SKIPPED [  0%]
tests/visual/test_visual_regression.py::TestVisualRegression::test_data_quality_indicators SKIPPED [  0%]
tests/visual/test_visual_regression.py::TestVisualRegression::test_summary_cards_rendering SKIPPED [  0%]
tests/visual/test_visual_regression.py::TestVisualRegression::test_animation_frame_consistency SKIPPED [  0%]
tests/visual/test_visual_regression.py::TestVisualRegression::test_color_theme_consistency[cool] SKIPPED [  0%]
tests/visual/test_visual_regression.py::TestVisualRegression::test_color_theme_consistency[warm] SKIPPED [  0%]
tests/visual/test_visual_regression.py::TestVisualRegression::test_color_theme_consistency[dark] SKIPPED [  0%]
tests/visual/test_visual_regression.py::TestVisualRegression::test_color_theme_consistency[light] SKIPPED [  0%]
tests/visual/test_visual_regression.py::TestVisualRegression::test_responsive_chart_rendering[size3] PASSED [  0%]
tests/visual/test_visual_regression.py::TestVisualRegression::test_responsive_chart_rendering[size2] PASSED [  0%]
tests/visual/test_visual_regression.py::TestVisualRegression::test_responsive_chart_rendering[size1] PASSED [  0%]
tests/visual/test_visual_regression.py::TestVisualRegression::test_responsive_chart_rendering[size0] PASSED [  1%]
tests/visual/test_visual_regression.py::TestVisualRegression::test_dashboard_layout SKIPPED [  1%]
tests/visual/test_visual_regression.py::TestVisualRegression::test_calendar_heatmap_rendering FAILED [  1%]

=================================== FAILURES ===================================
_____________ TestVisualRegression.test_calendar_heatmap_rendering _____________

self = <test_visual_regression.TestVisualRegression object at 0x7f3a8ac92420>
visual_tester = <tests.conftest.visual_tester.<locals>.VisualTester object at 0x7f3a8a990980>
sample_data =                          date  steps  heart_rate   distance  calories
0  2025-05-01 10:46:16.443396   8996          65...16.443396   7842          61   5.401321      2184
29 2025-05-30 10:46:16.443396   9711          66   7.699434      2226
chart_config = {'animate': False, 'dpi': 100, 'height': 600, 'style': 'default', ...}

    @pytest.mark.visual
    def test_calendar_heatmap_rendering(self, visual_tester, sample_data, chart_config):
        """Test calendar heatmap rendering."""
        from src.ui.charts.calendar_heatmap import CalendarHeatmap
    
        chart = CalendarHeatmap()
>       chart.configure(**chart_config)
E       AttributeError: 'CalendarHeatmapComponent' object has no attribute 'configure'

tests/visual/test_visual_regression.py:167: AttributeError
=============================== warnings summary ===============================
tests/integration/test_chaos_scenarios.py:571
  /mnt/c/Users/alexf/OneDrive/Documents/Projects/Apple Health Exports/tests/integration/test_chaos_scenarios.py:571: PytestUnknownMarkWarning: Unknown pytest.mark.chaos - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    pytestmark = pytest.mark.chaos

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/visual/test_visual_regression.py::TestVisualRegression::test_calendar_heatmap_rendering
!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!!
============== 1 failed, 5 passed, 9 skipped, 1 warning in 52.33s ==============
